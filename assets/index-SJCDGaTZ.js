import{u as f,r,j as n}from"./index-DrCy0gI3.js";function p(){const{slug:i}=f(),[s,m]=r.useState(null),[l,g]=r.useState(!1),[h,a]=r.useState(0);r.useEffect(()=>{fetch("/rd_portfolio/project.json").then(e=>e.json()).then(e=>{const t=e.find(o=>o.slug===i);m(t||null)})},[i]),r.useEffect(()=>{const e=t=>{l&&(t.key==="ArrowRight"&&u(),t.key==="ArrowLeft"&&d(),t.key==="Escape"&&c())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[l,h]);const x=e=>{a(e),g(!0)},c=()=>g(!1),u=()=>{s&&a(e=>(e+1)%s.images.length)},d=()=>{s&&a(e=>(e-1+s.images.length)%s.images.length)};return s?n.jsxs("div",{className:"project-container",children:[n.jsx("h1",{children:i}),n.jsx("p",{className:"project-description",children:s.description}),n.jsx("div",{className:"project-gallery",children:s.images.map((e,t)=>{let o="project-image";return t%7===0?o+=" large":t%5===0?o+=" wide":t%3===0&&(o+=" tall"),n.jsx("div",{className:o,style:{backgroundImage:`url(/rd_portfolio/${e})`},onClick:()=>x(t),alt:`Project ${t}`,loading:"lazy"},t)})}),l&&n.jsxs("div",{className:"lightbox-overlay",onClick:e=>{e.target.classList.contains("lightbox-overlay")&&c()},children:[n.jsx("button",{className:"lightbox-close lightbox-interactive-element",onClick:c,children:"×"}),n.jsx("button",{className:"lightbox-prev lightbox-interactive-element",onClick:d,children:"‹"}),n.jsx("div",{className:"lightbox-image",style:{backgroundImage:`url(/rd_portfolio/${s.images[h]})`}}),n.jsx("button",{className:"lightbox-next lightbox-interactive-element",onClick:u,children:"›"})]})]}):n.jsx("p",{children:"Loading project..."})}export{p as Project};
